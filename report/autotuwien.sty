%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%                            autotuwien.sty
%
%                               06.09.17
%
%                                TU Wien
%                    A- Wien, Treitlstrasse 3
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% packages
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage[utf8]{inputenc}
%\usepackage[paperwidth=210mm,paperheight=279mm]{geometry}
\usepackage{geometry}
\geometry{verbose,tmargin=2.4cm,bmargin=2cm,lmargin=2.4cm,rmargin=1.8cm,headsep=1.2cm,footskip=1cm}
\usepackage[T1]{fontenc}
\IfFileExists{opensans.sty}{
  \usepackage[default]{opensans}
}{
  \typeout{!!!! OPENSANS not found, using standard font !!!!}
  \renewcommand{\familydefault}{\sfdefault}
}
\usepackage{tikz,fancybox}
\usepackage{tcolorbox}
\usepackage{textcomp}

%\usepackage[ngerman, num]{isodate}
%\monthyearsepgerman{\,}{\,}
\usepackage{lastpage}
\usepackage{xcolor}
\usepackage{pslatex,array,moreverb,graphics,pifont,epsfig,rotating,amsmath}
\usepackage{varioref,color,colortbl,multicol, relsize,pstricks,makeidx,calc}
\usepackage{eurosym, wrapfig, fancyhdr, listings, pstricks, ifthen, footnote, paralist}
\usepackage[pdffitwindow,colorlinks=true,linkcolor=black,urlcolor=blue]{hyperref}
\usepackage[ngerman]{babel}
%\usepackage[ps2pdf]{thumbpdf}
%\pagecolor{white}


\definecolor{darkblue}{rgb}{0,0,.6}
\definecolor{darkred}{rgb}{.6,0,0}
\definecolor{darkgreen}{rgb}{0,.6,0}
\definecolor{turot}{rgb}{0.93,0.11,0.145}
\definecolor{tublau}{rgb}{0.06,0.43,0.70}
\definecolor{lGray}{rgb}{0.925,0.925,0.925}
\definecolor{mGray}{rgb}{0.84,0.84,0.84}
\definecolor{dGray}{rgb}{0.45,0.45,0.45}
\definecolor{autoyellow}{RGB}{237,170,0}
\definecolor{autopurple}{RGB}{100,0,100}

\newtcbox{\autobox}{colback=autoyellow!50,boxrule=0.5pt,arc=5pt,
  boxsep=3pt,left=3pt,right=3pt,top=3pt,bottom=3pt}

\fboxsep0.2mm

\def\rline{\noalign{\vskip 1.8pt}}
\def\rsep{\hskip 13.95pt}

\newenvironment{ctabular}[1][\unskip]{
  \footnotesize
  #1
  \rowcolors{1}{mGray}{lGray}\tabular
}{\endtabular}

\newenvironment{ctabularx}[1][\unskip]{
  \footnotesize
  #1
  \rowcolors{1}{mGray}{lGray}\tabularx
}{\endtabularx}

\newcommand{\rparagraph}[1]{\paragraph{#1}\mbox{}\\}
\newcommand{\rsubparagraph}[1]{\subparagraph{#1}\mbox{}\\}

\setlength{\parskip}{\medskipamount}
\setlength{\parindent}{0pt}
\setlength{\extrarowheight}{1pt}

\setlength{\emergencystretch}{6em}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% some size definitions and counter settings
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\floatpagefraction}{0.9}
\renewcommand{\textfraction}{0.05}
\renewcommand{\topfraction}{1.0}
\renewcommand{\bottomfraction}{1.0}

\setcounter{totalnumber}{3}
\setcounter{bottomnumber}{3}
\setcounter{topnumber}{3}

\setlength{\unitlength}{1mm}
\setlength{\parindent}{6mm}
\setlength{\parskip}{12pt plus2pt minus2pt}
\setlength{\extrarowheight}{1pt}

%\sloppy


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% define variables used on titlepage
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\uni#1{\gdef\@uni{#1}}
\def\inst#1{\gdef\@inst{#1}}
\def\instname#1{\gdef\@instname{#1}}
\def\address#1{\gdef\@address{#1}}
\def\lecture#1{\gdef\@lecture{#1}}
\def\semester#1{\gdef\@semester{#1}}

\setcounter{footnote}{0} 

% initialize variables
\gdef\@uni{TU Wien}
\gdef\@faculty{Faculty of Informatics}
\gdef\@inst{Institute of Computer Engineering}
\gdef\@division{Research Division of Automation Systems}
\gdef\@instname{Automation Systems Group}
\gdef\@address{A-1040 Wien, Treitlstr. 1-3/4. Floor/E191-3}
\gdef\@lecture{Lecture}
\gdef\@semester{Semester}
\gdef\@title{Titel}
\gdef\@author{ }

\def\mysep{~{\color{turot}|}~}

\fancypagestyle{firststyle}
{
   \fancyhf{}
   \renewcommand{\headrulewidth}{0pt}
   \renewcommand{\footrulewidth}{0.5pt}
   \chead{
     \hspace*{-10mm}
   }
   \lfoot{
     \fontsize{6}{8}\selectfont \@uni \mysep \@inst \mysep \@instname
     \mysep www.auto.tuwien.ac.at
   }
   
   \cfoot{
   } 
   
   \rfoot{
     \fontsize{6}{8}\selectfont \thepage~/\pageref{LastPage} 
   }
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% titlepage
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\maketitle{
  \begin{titlepage}
    \thispagestyle{firststyle}

    %\let\footnotesize\small \let\footnoterule\relax \setcounter{page}{1}
    \null
    \large

    \begin{center}
        \begin{minipage}{.95\linewidth}
          \epsfig{file=images/TU_INF_Logo_gray.eps,height=20mm}
          \hfill
          \epsfig{file=images/asg-logo.eps,height=20mm}
        \end{minipage}
        \vfill
        {\large \hfill \color{gray} \bf \@inst}\\[1mm]
        {\small \hfill \color{gray} \bf \@division}\\[8mm]
        {\huge \bf \hfill \color{gray} \@lecture}\\[5mm]
        {\color{lightgray}\hrule}
        \vspace{0.5cm}
        {\Large \hfill \color{gray} \bf \@title}\\[2mm]
        {\large \hfill \color{gray} \bf \@semester}\\       
        \vspace{5cm}
        \@author
        
        \vspace{10mm}
        \today
        \vfill
    \end{center}
    
  \end{titlepage}
  
  \setcounter{page} {2}
  \setcounter{footnote}{0} 
  \let\thanks\relax
} % \def\maketitle

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% lastpage
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\makelast{
  \
  \vfill
  \begin{center}
    \autobox{    
      \parbox{8cm}{\centering
        \@uni \\
        \@faculty \\
        \@inst \\
        \@instname \\
        \@address \\
      }
    }
    %%\vspace{0.6cm}
    \href{http://www.auto.tuwien.ac.at}{\bf www.auto.tuwien.ac.at}
    \vspace{1cm}
  \end{center}
} % \def\makelast


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Table of contens
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setcounter{tocdepth}{5}
\setcounter{secnumdepth}{5}
                                                                                 
\def\maketoc{
  \small
  \tableofcontents
  \normalsize
  \newpage
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% layout of non-title pages
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\setlength{\parskip}{5pt plus2pt minus2pt}
\setlength{\parskip}{\medskipamount}
\setlength{\parindent}{0pt}
\setlength{\parskip}{1mm}
\clearpage
\setlength{\parskip}{5pt plus2pt minus2pt}

\pagestyle{fancy}
% \renewcommand{\chaptermark}[1]{\markboth{\thechapter\ #1}{}}
\renewcommand{\sectionmark}[1]{\markboth{\thesection\ #1}{}}
\addtolength{\headheight}{2pt}

\lhead{
  \epsfig{file=images/TU_INF_Logo_gray.eps,height=8mm}
} 
\chead{}
\rhead{
  \epsfig{file=images/asg-logo.eps,height=8mm}
}
\lfoot{
  \fontsize{6}{8}\selectfont
  \@lecture \mysep \@semester \mysep \@title
}
\cfoot{} 
\rfoot{
  \fontsize{6}{8}\selectfont
  \thepage~/\pageref{LastPage} 
}

\renewcommand{\headrulewidth}{0.0pt}
\renewcommand{\footrulewidth}{0.5pt}


